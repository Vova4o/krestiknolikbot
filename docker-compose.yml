services:
  app:
    build: .
    container_name: tg-tictactoe-miniapp
    environment:
      TELEGRAM_BOT_TOKEN: "${TELEGRAM_BOT_TOKEN}"
      PORT: "${PORT:-8080}"
    expose:
      - "8080"
    restart: unless-stopped
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.tictactoe.rule=Host(`tictactoe.vova4o.com`)"
      - "traefik.http.routers.tictactoe.entrypoints=websecure"
      - "traefik.http.routers.tictactoe.tls=true"
      - "traefik.http.services.tictactoe.loadbalancer.server.port=8080"
